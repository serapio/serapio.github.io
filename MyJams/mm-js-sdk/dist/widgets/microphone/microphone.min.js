!function(n){"use strict";function t(){i=n.listener=new n.Listener({interimResults:!0}),i.on("result",function(n,t,e,o){s=!0,c.emit("result",n,t,e,o)}),i.on("start",function(n){s=!1,u=!1,c.emit("start",n)}),i.on("end",function(n){u||s||c.emit("error",{error:"no-speech"}),c.emit("end",n)}),i.on("error",function(n){if("not-allowed"==n.error||"service-not-allowed"==n.error){u=!0;var t=r.querySelector(".hold-message");t&&(t.style.display="none")}c.emit("error",n)})}function e(){function n(){i.listening?c.stop():o=setTimeout(function(){c.start(!0),o=null},s)}function t(){null!==o&&(clearTimeout(o),o=null,c.start())}function e(){clearTimeout(o),o=null}var o=null,s=1e3,u=r.querySelector(".icon-container");u.addEventListener("mousedown",n),u.addEventListener("touchstart",function(t){t.stopPropagation(),t.preventDefault(),n()}),u.addEventListener("mouseup",t),u.addEventListener("touchend",function(n){n.stopPropagation(),n.preventDefault(),t()}),u.addEventListener("mouseout",e),u.addEventListener("touchleave",function(n){n.stopPropagation(),n.preventDefault(),e()})}function o(){c.on("start",function(){r.classList.add("listening"),i.continuous&&r.classList.add("lock")}),c.on("end",function(){r.classList.remove("listening"),r.classList.remove("lock")})}var i,r,s,u,c=window.MindMeldMicrophone=window.MindMeldMicrophone||{};c.initialize=function(i){return r=i,s=!1,u=!1,n.support.speechRecognition?(t(),e(),o(),c.emit("init"),void 0):(r.classList.add("disabled"),c.emit("error",{error:"speech-not-supported"}),u=!0,void 0)},c.start=function(n){u||(i.continuous=n,i.start())},c.listening=function(){return u?!1:i.listening},c.stop=function(){u||i.cancel()};var a={};c.on=function(n,t,e){a[n]||(a[n]=[]);var o={callback:t,context:e};a[n].push(o)},c.emit=function(n){var t=a[n];if(void 0!==t){var e=Array.prototype.slice.call(arguments,1);t.forEach(function(n){var t=n.context||this;n.callback.apply(t,e)})}},c.isContinuous=function(){return u?!1:i&&i.continuous}}(MM);
//# sourceMappingURL=microphone.min.js.map